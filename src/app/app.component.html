<nz-modal nzWidth="300" *ngIf="isVisibleNewCanvas" [(nzVisible)]="isVisibleNewCanvas" nzTitle="Canvas size" (nzOnCancel)="isVisibleNewCanvas = !isVisibleNewCanvas" (nzOnOk)="createNewCanvas()">
  <form [formGroup]="canvasForm" nz-row>
    <nz-form-item nz-col nzSpan="12">
      <nz-form-label nzFor="email">Canvas width</nz-form-label>
      <nz-form-control>
        <nz-input-number formControlName="width" [nzMin]="1" [nzStep]="1"></nz-input-number>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item nz-col nzSpan="12">
      <nz-form-label nzFor="email">Canvas height</nz-form-label>
      <nz-form-control>
        <nz-input-number formControlName="height" [nzMin]="1" [nzStep]="1"></nz-input-number>
      </nz-form-control>
    </nz-form-item >
  </form>
</nz-modal>

<nz-modal nzWidth="300" *ngIf="isVisibleNewFigure" [(nzVisible)]="isVisibleNewFigure" [nzTitle]="modalTitle === Keys.KeyL ? 'New Line' : 'New Rectangle'" (nzOnCancel)="isVisibleNewFigure = !isVisibleNewFigure" (nzOnOk)="createNewFigure()">
  <form [formGroup]="figureForm">
    <div nz-row>
      <nz-form-item nz-col nzSpan="12">
        <nz-form-label nzFor="email">x1</nz-form-label>
        <nz-form-control>
          <nz-input-number formControlName="x1" [nzMin]="1" [nzStep]="1"></nz-input-number>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item nz-col nzSpan="12">
        <nz-form-label nzFor="email">y1</nz-form-label>
        <nz-form-control>
          <nz-input-number formControlName="y1" [nzMin]="1" [nzStep]="1"></nz-input-number>
        </nz-form-control>
      </nz-form-item >
    </div>
    <div nz-row>
      <nz-form-item nz-col nzSpan="12">
        <nz-form-label nzFor="email">x2</nz-form-label>
        <nz-form-control>
          <nz-input-number formControlName="x2" [nzMin]="1" [nzStep]="1"></nz-input-number>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item nz-col nzSpan="12">
        <nz-form-label nzFor="email">y2</nz-form-label>
        <nz-form-control>
          <nz-input-number formControlName="y2" [nzMin]="1" [nzStep]="1"></nz-input-number>
        </nz-form-control>
      </nz-form-item >
    </div>
  </form>
</nz-modal>

<nz-modal nzWidth="360" *ngIf="isVisibleFillCanvas" [(nzVisible)]="isVisibleFillCanvas" nzTitle="Fill canvas" (nzOnCancel)="isVisibleFillCanvas = !isVisibleFillCanvas" (nzOnOk)="fillArea()">
  <form [formGroup]="fillCanvasForm" nz-row>
    <nz-form-item nz-col nzSpan="8">
      <nz-form-label nzFor="x1">x</nz-form-label>
      <nz-form-control>
        <nz-input-number formControlName="x" [nzMin]="1" [nzStep]="1"></nz-input-number>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item nz-col nzSpan="8">
      <nz-form-label nzFor="y1">y</nz-form-label>
      <nz-form-control>
        <nz-input-number formControlName="y" [nzMin]="1" [nzStep]="1"></nz-input-number>
      </nz-form-control>
    </nz-form-item >
    <nz-form-item nz-col nzSpan="8">
      <nz-form-label nzFor="color">Color</nz-form-label>
      <nz-form-control>
        <input nz-input placeholder="Color" name="color" type="text" formControlName="color" />
      </nz-form-control>
    </nz-form-item >
  </form>
</nz-modal>

<h1 *ngIf="!hasCanvas; else options"><< Press C >> to create a new Canvas</h1>

<ng-template #options>
  <h3><< Press L >> to create a new Line</h3>
  <h3><< Press R >> to create a new Rectangle</h3>
  <h3><< Press B >> to fill and area</h3>
  <h3><< Press Q >> to restart the Canvas</h3>
</ng-template>

<hr/>

<table *ngIf="hasCanvas">
  <tr *ngFor="let col of canvas.canvas">
    <td *ngFor="let row of col">{{ row }}</td>
  </tr>
</table>
